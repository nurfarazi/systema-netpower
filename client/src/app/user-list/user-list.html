<div class="user-list-container">
  <h1>Users</h1>

  @if (loading$ | async) {
    <div class="loading-spinner">
      <div class="spinner"></div>
      <p>Loading users...</p>
    </div>
  } @else if (users$ | async; as users) {
    @if (users.length > 0) {
      <table class="users-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Status</th>
            <th>Created By</th>
            <th>Created At</th>
          </tr>
        </thead>
        <tbody>
          @for (user of users; track trackByUserId($index, user)) {
            <tr [class.inactive]="!user.isActive">
              <td class="name">{{ user.name }}</td>
              <td class="email">{{ user.email }}</td>
              <td class="status">
                <span class="status-badge" [class.active]="user.isActive">
                  {{ user.isActive ? 'Active' : 'Inactive' }}
                </span>
              </td>
              <td class="created-by">{{ user.createdBy }}</td>
              <td class="created-at">{{ user.createdAt | date: 'short' }}</td>
            </tr>
          }
        </tbody>
      </table>
    } @else {
      <div class="empty-state">
        <p>No users found</p>
      </div>
    }
  }
</div>
